<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard - SENEN</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .header {
      background: #000;
      padding: 15px 0;
      text-align: center;
      position: relative;
    }

    .header img {
      height: 30px;
    }

    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .dashboard-title {
      text-align: center;
      margin-bottom: 30px;
      color: #333;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .dashboard-card {
      background: white;
      border-radius: 10px;
      padding: 30px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .card-icon {
      font-size: 50px;
      margin-bottom: 20px;
      color: #000;
    }

    .card-title {
      font-size: 22px;
      margin-bottom: 10px;
      color: #333;
    }

    .card-description {
      color: #666;
      margin-bottom: 20px;
    }

    .logout-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px;
    }

    .logout-icon {
      width: 24px;
      height: 24px;
      filter: invert(100%);
    }

    @media (max-width: 768px) {
      .cards-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="header">
    <img src="kosans-demo.regular.webp" alt="SENEN Logo" />
  </div>

  <div class="container">
    <h1 class="dashboard-title">Admin Dashboard</h1>
    
    <div class="cards-container">
      <div class="dashboard-card" onclick="window.location.href='products.html'">
        <div class="card-icon">üì¶</div>
        <h2 class="card-title">Products</h2>
        <p class="card-description">Manage your product catalog, add new products, and edit existing ones.</p>
      </div>
      
      <div class="dashboard-card" onclick="window.location.href='orders.html'">
        <div class="card-icon">üõí</div>
        <h2 class="card-title">Orders</h2>
        <p class="card-description">View and manage customer orders, update order statuses.</p>
      </div>
      
      <div class="dashboard-card" onclick="window.location.href='deleted.html'">
        <div class="card-icon">üóëÔ∏è</div>
        <h2 class="card-title">Deleted Products</h2>
        <p class="card-description">Restore deleted products or permanently remove them.</p>
      </div>
    </div>
  </div>

  <script>
    // Session configuration
    const SESSION_DURATION = 6 * 60 * 60 * 1000; // 6 hours in milliseconds

    // Check authentication status
    function checkAuth() {
      const sessionExpires = localStorage.getItem('sessionExpires');

      if (localStorage.getItem('adminSession') !== 'true' ||
        !sessionExpires ||
        Date.now() > parseInt(sessionExpires)) {
        // Session expired or not logged in
        endSession();
        window.location.href = 'admin-login.html';
        return false;
      }
      return true;
    }

    // Reset session timer on user activity
    function resetSessionTimer() {
      const newExpiration = Date.now() + SESSION_DURATION;
      localStorage.setItem('sessionExpires', newExpiration.toString());
    }

    // End session (logout)
    function endSession() {
      localStorage.removeItem('adminSession');
      localStorage.removeItem('sessionExpires');
    }

    // Add logout button functionality
    function setupLogoutButton() {
      const logoutBtn = document.createElement('div');
      logoutBtn.className = 'logout-btn';
      logoutBtn.innerHTML = `
        <img class="logout-icon" src="https://cdn-icons-png.flaticon.com/512/126/126467.png" alt="Logout" onclick="logout()">
      `;
      document.querySelector('.header').appendChild(logoutBtn);
    }

    function logout() {
      endSession();
      window.location.href = 'admin-login.html';
    }

    // Initialize the application
    window.onload = function () {
      if (!checkAuth()) return;

      // Set up activity listeners to reset session timer
      document.addEventListener('mousemove', resetSessionTimer);
      document.addEventListener('keypress', resetSessionTimer);
      document.addEventListener('click', resetSessionTimer);

      // Add logout button
      setupLogoutButton();
    };
  </script>
</body>

</html>